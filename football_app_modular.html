<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Football Stats - App</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <h1>âš½ Football Stats</h1>
            <div class="nav-menu">
                <button class="nav-btn" onclick="showPage('setup')">âš™ï¸ Configuration</button>
                <button class="nav-btn" onclick="showPage('match')">ğŸŸï¸ Match</button>
                <button class="nav-btn" onclick="showPage('stats')">ğŸ“Š Statistiques</button>
                <button class="nav-btn" onclick="showPage('live')">ğŸ“¡ Live</button>
            </div>
        </div>
    </nav>

    <!-- Page Configuration -->
    <div id="setup" class="page active">
        <div class="page-container">
            <h2>âš™ï¸ Configuration des Ã‰quipes</h2>
            
            <div class="team-card">
                <h3>ğŸ‘¥ Composition de votre Ã©quipe</h3>
                <div class="form-group">
                    <label for="playerName">Nom de la joueuse:</label>
                    <input type="text" id="playerName" placeholder="Entrez le nom">
                </div>
                <div class="form-group">
                    <label for="playerPosition">Position:</label>
                    <select id="playerPosition">
                        <option value="gardienne">ğŸ¥… Gardienne</option>
                        <option value="defenseure">ğŸ›¡ï¸ DÃ©fenseure</option>
                        <option value="milieu">âš¡ Milieu</option>
                        <option value="attaquante">âš½ Attaquante</option>
                    </select>
                </div>
                <button class="btn btn-primary" onclick="addPlayer()">â• Ajouter Joueuse</button>
                
                <div class="players-list" id="playersList">
                    <!-- Les joueuses seront affichÃ©es ici -->
                </div>
            </div>

            <div class="team-card">
                <h3>âš™ï¸ ParamÃ¨tres du Match</h3>
                <div class="form-group">
                    <label for="team1Name">Nom de votre Ã©quipe:</label>
                    <input type="text" id="team1Name" value="Mon Ã‰quipe">
                </div>
                <div class="form-group">
                    <label for="team2Name">Ã‰quipe adverse:</label>
                    <input type="text" id="team2Name" value="Ã‰quipe Adverse">
                </div>
                <div class="form-group">
                    <label for="venue">Lieu:</label>
                    <input type="text" id="venue" value="Terrain">
                </div>
                <div class="form-group">
                    <label for="duration">DurÃ©e mi-temps (minutes):</label>
                    <input type="number" id="duration" value="45" min="1" max="90">
                </div>
            </div>
            
            <div class="team-card">
                <h2>ğŸ® Actions Rapides</h2>
                <button class="btn btn-primary" onclick="startNewMatch()" style="width: 100%; margin: 10px 0;">
                    ğŸ†• Nouveau Match
                </button>
                <button class="btn btn-secondary" onclick="showConfirmReset()" style="width: 100%; margin: 10px 0;">
                    ğŸ”„ Reset Complet
                </button>
            </div>
        </div>
    </div>

    <!-- Page Match -->
    <div id="match" class="page">
        <div class="page-container">
            <div class="match-header">
                <div class="teams-display">
                    <div class="team team1">
                        <h3 id="team1Display">Mon Ã‰quipe</h3>
                        <div class="score" id="team1Score">0</div>
                    </div>
                    <div class="timer-section">
                        <div class="timer" id="timer">00:00</div>
                        <div class="timer-controls">
                            <button class="btn btn-small" onclick="toggleTimer()">â–¶ï¸</button>
                            <button class="btn btn-small" onclick="resetTimer()">ğŸ”„</button>
                        </div>
                    </div>
                    <div class="team team2">
                        <h3 id="team2Display">Ã‰quipe Adverse</h3>
                        <div class="score" id="team2Score">0</div>
                    </div>
                </div>
            </div>

            <!-- Actions Rapides avec Popup -->
            <div class="actions-grid">
                <div class="action-card" onclick="showActionChoiceModal('goal')">
                    <div class="action-icon">âš½</div>
                    <div>But</div>
                </div>
                <div class="action-card" onclick="showActionChoiceModal('shot')">
                    <div class="action-icon">ğŸ¯</div>
                    <div>Tir</div>
                </div>
                <div class="action-card" onclick="showActionChoiceModal('card')">
                    <div class="action-icon">ğŸŸ¨</div>
                    <div>Carton</div>
                </div>
                <div class="action-card" onclick="showActionChoiceModal('foul')">
                    <div class="action-icon">âš ï¸</div>
                    <div>Faute</div>
                </div>
            </div>

            <!-- Timeline des Ã©vÃ©nements -->
            <div class="timeline" id="timeline">
                <!-- Les Ã©vÃ©nements seront affichÃ©s ici -->
            </div>

            <!-- Lien Live -->
            <div class="live-section">
                <button class="btn btn-primary" onclick="generateLiveLink()">ğŸ“¡ GÃ©nÃ©rer Lien Live</button>
                <input type="text" id="liveLink" placeholder="Le lien live apparaÃ®tra ici..." readonly style="display: none;">
                <button id="copyLinkBtn" class="btn btn-small" onclick="copyLiveLink()" style="display: none;">ğŸ“‹ Copier</button>
            </div>
        </div>
    </div>

    <!-- Page Statistiques -->
    <div id="stats" class="page">
        <div class="page-container">
            <h2>ğŸ“Š Statistiques du Match</h2>
            <div class="stats-grid" id="statsGrid">
                <!-- Les statistiques seront affichÃ©es ici -->
            </div>
        </div>
    </div>

    <!-- Page Live -->
    <div id="live" class="page">
        <div class="page-container">
            <h2>ğŸ“¡ Suivi Live</h2>
            <div id="liveContent">
                <div id="waitingMessage" class="waiting-message">
                    <h3>En attente de donnÃ©es...</h3>
                    <p>Le match n'a pas encore commencÃ© ou aucun Ã©vÃ©nement n'a Ã©tÃ© enregistrÃ©.</p>
                </div>
                <div id="liveMatch" style="display: none;">
                    <div class="live-teams">
                        <div class="team">
                            <h3 id="liveTeam1">Ã‰quipe 1</h3>
                            <div class="score" id="liveScore1">0</div>
                        </div>
                        <div class="timer">
                            <div id="liveTimer">00:00</div>
                        </div>
                        <div class="team">
                            <h3 id="liveTeam2">Ã‰quipe 2</h3>
                            <div class="score" id="liveScore2">0</div>
                        </div>
                    </div>
                    <div class="live-events" id="liveEvents">
                        <!-- Ã‰vÃ©nements live -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Choix Action -->
    <div id="actionChoiceModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('actionChoiceModal')">&times;</span>
            <h3 id="actionChoiceTitle">Choisir l'Ã©quipe</h3>
            <div class="choice-buttons">
                <button class="choice-btn team-choice" onclick="selectTeamForAction('team')">
                    <span id="teamChoiceText">Mon Ã‰quipe</span>
                </button>
                <button class="choice-btn opponent-choice" onclick="selectTeamForAction('opponent')">
                    <span>Ã‰quipe Adverse</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Action -->
    <div id="actionModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('actionModal')">&times;</span>
            <h3 id="actionModalTitle">Action</h3>
            
            <!-- Choix carton pour les cartons -->
            <div id="cardButtons" class="card-buttons" style="display: none;">
                <button class="card-btn yellow-card" onclick="selectCardType('yellow')">ğŸŸ¨ Jaune</button>
                <button class="card-btn red-card" onclick="selectCardType('red')">ğŸŸ¥ Rouge</button>
                <button class="card-btn white-card" onclick="selectCardType('white')">â¬œ Blanc</button>
            </div>
            
            <!-- SÃ©lection joueur -->
            <div class="players-grid" id="actionPlayerButtons">
                <!-- Boutons joueurs -->
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button id="saveActionBtn" class="btn btn-primary" onclick="saveAction()" disabled>
                    âœ… Valider
                </button>
                <button class="btn btn-secondary" onclick="closeModal('actionModal')">
                    âŒ Annuler
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Confirmation Reset -->
    <div id="confirmResetModal" class="modal">
        <div class="modal-content">
            <h3>ğŸ”„ Confirmer la rÃ©initialisation</h3>
            <p>ÃŠtes-vous sÃ»r de vouloir tout rÃ©initialiser ? Cette action est irrÃ©versible.</p>
            <div style="text-align: center;">
                <button class="btn btn-primary" onclick="confirmReset()">âœ… Oui, rÃ©initialiser</button>
                <button class="btn btn-secondary" onclick="closeModal('confirmResetModal')">âŒ Annuler</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/app.js"></script>
    <script src="js/api.js"></script>
    <script src="js/match-actions.js"></script>
    
    <script>
        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });
    </script>
</body>
</html>