# Guide de Test - Corrections AppliquÃ©es ğŸ”§

## âœ… **Corrections EffectuÃ©es**

### 1. **Actions du Match - CORRIGÃ‰**
- âœ… Toutes les variables globales dÃ©finies
- âœ… Fonction `closeModal()` corrigÃ©e
- âœ… Gestion des erreurs amÃ©liorÃ©e
- âœ… Vibrations Android ajoutÃ©es

### 2. **Mode Live - CORRIGÃ‰**
- âœ… Logs de debug ajoutÃ©s
- âœ… Gestion d'erreurs dÃ©taillÃ©e
- âœ… Messages d'erreur informatifs
- âœ… Fonction de test API incluse

## ğŸ§ª **Tests Ã  Effectuer**

### **Test 1 : Actions du Match**
```
1. Ajoutez 2-3 joueuses dans Configuration
2. Allez dans Composition â†’ SÃ©lectionnez 2-3 titulaires
3. Configuration â†’ "Nouveau Match"
4. Allez dans Match
5. Testez CHAQUE bouton d'action :
   
   âœ… But â†’ Popup choix Ã©quipe â†’ Fond blanc â†’ Choix joueur â†’ Validation
   âœ… Tir CadrÃ© â†’ MÃªme processus
   âœ… Tir Non CadrÃ© â†’ MÃªme processus  
   âœ… Carton â†’ Choix Ã©quipe â†’ Choix couleur + joueur
   âœ… ArrÃªt Gardienne â†’ Seulement si gardienne sur terrain
   âœ… Faute â†’ Choix Ã©quipe â†’ Choix joueur
   âœ… Coup Franc â†’ Seulement votre Ã©quipe
   âœ… Changement â†’ Doit marcher (c'Ã©tait le seul qui marchait)
```

**â“ Si un bouton ne marche pas :**
- Ouvrez la console (F12)
- Regardez les erreurs en rouge
- Notez quelle action pose problÃ¨me

### **Test 2 : Mode Live**
```
1. Avec un match en cours (quelques Ã©vÃ©nements)
2. Dans Match â†’ "GÃ©nÃ©rer Lien Live"
3. Observez la console (F12) pour les logs :
   
   âœ… "GÃ©nÃ©ration lien live pour match: ..."
   âœ… "DonnÃ©es Ã  envoyer: ..."
   âœ… "CrÃ©ation d'un nouveau bin..."
   âœ… "Bin crÃ©Ã© avec ID: ..."
   âœ… "Lien gÃ©nÃ©rÃ©: ..."
   
4. Si succÃ¨s â†’ Lien apparaÃ®t + notification verte
5. Testez le lien dans un autre onglet
```

**â“ Si le live ne marche pas :**
- VÃ©rifiez la console pour voir l'erreur exacte
- Notez le message d'erreur complet

## ğŸ” **Debug Console**

### Commandes de Test
Ouvrez la console (F12) et tapez :

```javascript
// Tester l'Ã©tat des variables
console.log('Players:', players.length);
console.log('Actions variables:', {
    currentActionType,
    selectedPlayerId,
    selectedCardType
});

// Tester l'API Live
testAPIConnection();

// Voir les stats actuelles
console.log('Stats:', stats);
console.log('Events:', events.length);
```

### VÃ©rifier les Boutons Actions
```javascript
// Tester chaque fonction d'action
console.log('Functions disponibles:');
console.log('showActionChoiceModal:', typeof showActionChoiceModal);
console.log('showSaveModal:', typeof showSaveModal);
console.log('showFreeKickModal:', typeof showFreeKickModal);
console.log('showSubstitutionModal:', typeof showSubstitutionModal);
```

## ğŸ“± **Test Android SpÃ©cifique**

### Actions sur Mobile
1. **Vibrations** : Doivent se dÃ©clencher Ã  chaque sÃ©lection
2. **Fond blanc** : Visible sur les choix sÃ©lectionnÃ©s
3. **2 colonnes** : Actions TOUJOURS en grille 2x2
4. **Tactile** : Boutons rÃ©actifs au touch

### Live sur Mobile
1. GÃ©nÃ©rez le lien sur PC/Android
2. Partagez via WhatsApp Ã  un autre tÃ©lÃ©phone
3. Ouvrez le lien â†’ Doit afficher le match live
4. Ajoutez un Ã©vÃ©nement â†’ Doit apparaÃ®tre sur l'autre tÃ©lÃ©phone

## âš ï¸ **Messages d'Erreur Possibles**

### Actions
- `"showActionChoiceModal is not defined"` â†’ ProblÃ¨me de chargement JS
- `"Cannot read property of undefined"` â†’ Variables non initialisÃ©es
- `"selectedPlayerId is null"` â†’ SÃ©lection joueur Ã©chouÃ©e

### Live  
- `"Erreur API: 401"` â†’ ProblÃ¨me clÃ© API
- `"Erreur API: 403"` â†’ Limite atteinte
- `"Network error"` â†’ ProblÃ¨me connexion
- `"CORS error"` â†’ ProblÃ¨me navigateur

## ğŸ†˜ **Si Ã‡a Ne Marche Toujours Pas**

### Actions qui ne marchent pas
1. **VÃ©rifiez que tous les fichiers JS sont chargÃ©s**
2. **Console â†’ Network** : VÃ©rifiez que `match-actions.js` se charge
3. **Testez sur un autre navigateur** (Chrome recommandÃ©)

### Live qui ne marche pas
1. **Testez la fonction de debug** : `testAPIConnection()`
2. **VÃ©rifiez votre connexion internet**
3. **Essayez de rÃ©gÃ©nÃ©rer le lien**

### En Dernier Recours
- **Reset complet** : Configuration â†’ Reset Complet
- **Vider le cache** : Ctrl+Shift+R (ou Ctrl+F5)
- **Mode incognito** : Test dans une fenÃªtre privÃ©e

---

## âœ… **Checklist de Test Rapide**

Cochez au fur et Ã  mesure :

**Actions :**
- [ ] But (Ã©quipe + adversaire)
- [ ] Tir CadrÃ© (Ã©quipe + adversaire)  
- [ ] Tir Non CadrÃ© (Ã©quipe + adversaire)
- [ ] Carton (jaune/rouge/blanc + Ã©quipe/adversaire)
- [ ] ArrÃªt Gardienne (si gardienne sur terrain)
- [ ] Faute (Ã©quipe + adversaire)
- [ ] Coup Franc (votre Ã©quipe uniquement)
- [ ] Changement (sortant â†’ entrant)

**Live :**
- [ ] GÃ©nÃ©ration lien rÃ©ussie
- [ ] Lien copiable/partageable
- [ ] Ouverture lien dans autre onglet/tÃ©lÃ©phone
- [ ] Synchronisation Ã©vÃ©nements temps rÃ©el

**Si tout fonctionne â†’ L'app est opÃ©rationnelle ! ğŸ‰**  
**Si problÃ¨me â†’ Notez l'erreur exacte pour correction ciblÃ©e**