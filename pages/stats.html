<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistiques - Football Stats</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚öΩ</text></svg>">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üìä Statistiques du Match</h1>
            <p>Analyse d√©taill√©e des performances</p>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <a href="../index.html" class="nav-link">üè† Accueil</a>
            <a href="team.html" class="nav-link">üë• √âquipe</a>
            <a href="composition.html" class="nav-link">üìã Compo</a>
            <a href="match.html" class="nav-link">‚öΩ Match</a>
            <a href="live.html" class="nav-link">üì∫ Live</a>
            <a href="stats.html" class="nav-link active">üìä Stats</a>
        </nav>

        <!-- Contenu principal -->
        <main class="main-content">
            
            <!-- R√©sum√© du match -->
            <div class="team-card">
                <h2>üèÜ R√©sum√© du Match</h2>
                <div class="match-summary">
                    <div class="match-result">
                        <div class="team-result">
                            <div class="team-name" id="summaryTeamName">Mon √âquipe</div>
                            <div class="team-score" id="summaryTeamScore">0</div>
                        </div>
                        <div class="match-details">
                            <div class="match-time" id="summaryMatchTime">90:00</div>
                            <div class="match-status" id="summaryMatchStatus">Termin√©</div>
                        </div>
                        <div class="team-result">
                            <div class="team-name" id="summaryOpponentName">√âquipe Adverse</div>
                            <div class="team-score" id="summaryOpponentScore">0</div>
                        </div>
                    </div>
                    
                    <div class="match-meta">
                        <div class="meta-item">
                            <span class="meta-label">üèüÔ∏è Lieu:</span>
                            <span class="meta-value" id="summaryVenue">Stade Municipal</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">üìÖ Date:</span>
                            <span class="meta-value" id="summaryDate">--/--/----</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">‚è±Ô∏è Dur√©e:</span>
                            <span class="meta-value" id="summaryDuration">90 minutes</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">üìù √âv√©nements:</span>
                            <span class="meta-value" id="summaryEvents">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="stats-actions">
                    <button class="btn btn-primary" onclick="generateMatchPDF()">üìÑ Exporter PDF</button>
                    <button class="btn btn-secondary" onclick="generateReport()">üìã G√©n√©rer Rapport</button>
                    <button class="btn btn-secondary" onclick="exportStats()">üì§ Exporter Stats</button>
                    <button class="btn btn-warning" onclick="printStats()">üñ®Ô∏è Imprimer</button>
                </div>
            </div>

            <!-- Statistiques globales -->
            <div class="team-card">
                <h2>üìà Statistiques Globales</h2>
                <div class="global-stats-grid">
                    <div class="global-stat-card goals">
                        <div class="stat-icon">‚öΩ</div>
                        <div class="stat-content">
                            <div class="stat-values">
                                <span class="team-value" id="globalTeamGoals">0</span>
                                <span class="separator">-</span>
                                <span class="opponent-value" id="globalOpponentGoals">0</span>
                            </div>
                            <div class="stat-label">Buts</div>
                        </div>
                    </div>
                    
                    <div class="global-stat-card shots">
                        <div class="stat-icon">üéØ</div>
                        <div class="stat-content">
                            <div class="stat-values">
                                <span class="team-value" id="globalTeamShots">0</span>
                                <span class="separator">-</span>
                                <span class="opponent-value" id="globalOpponentShots">0</span>
                            </div>
                            <div class="stat-label">Tirs</div>
                        </div>
                    </div>
                    
                    <div class="global-stat-card cards">
                        <div class="stat-icon">üü®</div>
                        <div class="stat-content">
                            <div class="stat-values">
                                <span class="team-value" id="globalTeamCards">0</span>
                                <span class="separator">-</span>
                                <span class="opponent-value" id="globalOpponentCards">0</span>
                            </div>
                            <div class="stat-label">Cartons</div>
                        </div>
                    </div>
                    
                    <div class="global-stat-card fouls">
                        <div class="stat-icon">‚ö†Ô∏è</div>
                        <div class="stat-content">
                            <div class="stat-values">
                                <span class="team-value" id="globalTeamFouls">0</span>
                                <span class="separator">-</span>
                                <span class="opponent-value" id="globalOpponentFouls">0</span>
                            </div>
                            <div class="stat-label">Fautes</div>
                        </div>
                    </div>
                    
                    <div class="global-stat-card saves">
                        <div class="stat-icon">üß§</div>
                        <div class="stat-content">
                            <div class="stat-values">
                                <span class="team-value" id="globalTeamSaves">0</span>
                                <span class="separator">-</span>
                                <span class="opponent-value" id="globalOpponentSaves">0</span>
                            </div>
                            <div class="stat-label">Arr√™ts</div>
                        </div>
                    </div>
                    
                    <div class="global-stat-card freekicks">
                        <div class="stat-icon">‚öΩ</div>
                        <div class="stat-content">
                            <div class="stat-values">
                                <span class="team-value" id="globalTeamFreeKicks">0</span>
                                <span class="separator">-</span>
                                <span class="opponent-value" id="globalOpponentFreeKicks">0</span>
                            </div>
                            <div class="stat-label">Coups Francs</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Statistiques individuelles -->
            <div class="team-card">
                <h2>üë§ Statistiques Individuelles</h2>
                <div class="stats-filter">
                    <button class="filter-btn active" onclick="filterPlayers('all')" data-filter="all">Toutes</button>
                    <button class="filter-btn" onclick="filterPlayers('field')" data-filter="field">Titulaires</button>
                    <button class="filter-btn" onclick="filterPlayers('bench')" data-filter="bench">Rempla√ßantes</button>
                    <button class="filter-btn" onclick="filterPlayers('top')" data-filter="top">Top Perf.</button>
                </div>
                
                <div id="playersStatsContainer" class="players-stats-grid">
                    <!-- Les stats des joueuses appara√Ætront ici -->
                </div>
            </div>

            <!-- Analyse par mi-temps -->
            <div class="team-card">
                <h2>‚è±Ô∏è Analyse par Mi-temps</h2>
                <div class="halftime-analysis">
                    <div class="half-stats">
                        <h3>1√®re Mi-temps</h3>
                        <div class="half-stats-grid" id="firstHalfStats">
                            <!-- Stats 1√®re mi-temps -->
                        </div>
                    </div>
                    <div class="half-stats">
                        <h3>2√®me Mi-temps</h3>
                        <div class="half-stats-grid" id="secondHalfStats">
                            <!-- Stats 2√®me mi-temps -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Timeline d√©taill√©e -->
            <div class="team-card">
                <h2>üìù Timeline D√©taill√©e</h2>
                <div class="timeline-controls">
                    <button class="timeline-filter-btn active" onclick="filterTimeline('all')" data-filter="all">Tous</button>
                    <button class="timeline-filter-btn" onclick="filterTimeline('goals')" data-filter="goals">Buts</button>
                    <button class="timeline-filter-btn" onclick="filterTimeline('cards')" data-filter="cards">Cartons</button>
                    <button class="timeline-filter-btn" onclick="filterTimeline('subs')" data-filter="subs">Changements</button>
                </div>
                
                <div id="detailedTimeline" class="detailed-timeline">
                    <!-- Timeline appara√Ætra ici -->
                </div>
            </div>

            <!-- Analyse avanc√©e -->
            <div class="team-card">
                <h2>üìä Analyse Avanc√©e</h2>
                <div class="advanced-analysis">
                    <div class="analysis-card">
                        <h3>Efficacit√© Offensive</h3>
                        <div class="efficiency-meter">
                            <div class="efficiency-bar" id="efficiencyProgress"></div>
                        </div>
                        <div class="efficiency-stats">
                            <div class="efficiency-item">
                                <span class="efficiency-label">Taux de r√©ussite:</span>
                                <span class="efficiency-value" id="shotEfficiency">0%</span>
                            </div>
                            <div class="efficiency-item">
                                <span class="efficiency-label">Buts par tir:</span>
                                <span class="efficiency-value" id="goalsPerShot">0.00</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="analysis-card">
                        <h3>Performance D√©fensive</h3>
                        <div class="defense-stats">
                            <div class="defense-item">
                                <span class="defense-label">Arr√™ts totaux:</span>
                                <span class="defense-value" id="totalSaves">0</span>
                            </div>
                            <div class="defense-item">
                                <span class="defense-label">Buts encaiss√©s:</span>
                                <span class="defense-value" id="goalsConceded">0</span>
                            </div>
                            <div class="defense-item">
                                <span class="defense-label">Note d√©fensive:</span>
                                <span class="defense-value" id="defenseRating">‚≠ê‚≠ê‚≠ê</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="events-chart" id="eventsChart">
                    <!-- Graphique des √©v√©nements -->
                </div>
            </div>

        </main>
    </div>

    <!-- Modal Rapport -->
    <div id="reportModal" class="modal">
        <div class="modal-content report-modal">
            <span class="close" onclick="closeReportModal()">&times;</span>
            <h2>üìã Rapport de Match</h2>
            <div id="reportContent" class="report-content">
                <!-- Contenu du rapport -->
            </div>
            <div class="modal-actions">
                <button class="btn btn-primary" onclick="downloadReport()">üíæ T√©l√©charger</button>
                <button class="btn btn-secondary" onclick="closeReportModal()">‚úñ Fermer</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <!-- jsPDF et jspdf-autotable depuis CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    
    <!-- Scripts de l'application -->
    <script src="../js/storage.js"></script>
    <script src="../js/app.js"></script>
    <script src="../js/pdf-export.js"></script>
    <script src="../js/stats.js"></script>
</body>
</html>